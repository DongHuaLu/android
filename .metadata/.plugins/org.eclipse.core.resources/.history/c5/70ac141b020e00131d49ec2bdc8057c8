package com.example.utils;

import java.io.ByteArrayOutputStream;
import java.io.InputStream;

public class StreamTools {

	public static String readInputStream(InputStream in,String contentType) {
		ByteArrayOutputStream baos = new ByteArrayOutputStream();
		int len = 0;
		byte[] buffer = new byte[1024];

		try {
			while ((len = in.read(buffer)) != -1) {
				baos.write(buffer, 0, len);
			}
			in.close();
			byte[] result = baos.toByteArray();
			String[] type=contentType.split("=");
			if(type.length==2){
				return new String(result,type[1]);
			}else{
				String temp=  new String(result);
				return temp;
			}
		} catch (Exception e) {
			e.printStackTrace();
			return null;
		}
	}

}
